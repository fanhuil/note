# ip地址的子网划分

ip 地址长度为32位，长分成4个8位

ip 地址常使用点分十进制来表示(0~255.0~255.0~255.0~255)



## ip地址划分

**ip地址分类**：

A类地址：网络号：8；主机号24	首位为0

B类地址：网络号：16；主机号16	前两位为10

C类地址：网络号：24；主机号8	前三位为110

|      | 最小网络号 |  最大网络号   |     子网数量     | 最小主机号 | 最大主机号  |     主机数量     |
| :--: | :--------: | :-----------: | :--------------: | :--------: | :---------: | :--------------: |
|  A   |     1      | 127(01111111) | 2<sup>7</sup>-2  |   0.0.1    | 255.255.255 | 2<sup>24</sup>-2 |
|  B   |   128.1    |    191.255    | 2<sup>14</sup>-1 |    0.1     |   255.255   | 2<sup>16</sup>-2 |
|  C   |  192.0.1   |  223.255.255  | 2<sup>21</sup>-1 |     1      |     255     | 2<sup>8</sup>-2  |



**特殊主机号**:

- 主机号全0表示当前网络段，不可分配给特定主机
- 主机号为全1表示广播地址，想当前网络段所有主机发消息



**特殊网络号**:

- A类地址网络段全0(00000000)表示特殊网络

- A类地址网络段后7位全1(01111111:127)表示回环地址

- B类地址网络段(10000000.00000000:128.0)是不可使用的

- C类地址网络段(192.0.0)是不可使用的



**备注**：

127.0.0.1,通常被称为本机回环地址，不属于任何一个有类别地址类。代表设备本地虚拟接口，默认永远不会宕掉的接口。



## 划分子网

**子网掩码**：

- 子网掩码和IP地址一样，都是32位
- 子网掩码有连续的1和连续的0组成
- 某一个子网的子网掩码具备和网络号位数个连续的1



## 无分类编址CIDR

斜线记法

​	193.10.10.129/25



# 网络地址转换NAT技术

**分类**：

- 10.0.0.0~10.255.255.255（支持千万数量级设备）
- 172.16.0.0~172.31.255.255（支持百万数量级设备）
- 192.168.0.0~192.168.255.255（支持万数量级设备）



# 网络层的路由概念







# IP协议转发流程

![简单网络拓扑](%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%AE%80%E5%8D%95%E7%BD%91%E7%BB%9C%E6%8B%93%E6%89%91.png)

step1(A-E)：

​	A发出目的地为C的IP数据报，查询路由表发现下一跳为E

​	A将IP数据报交给链路层，并告知目的MAC地址是E

​	数据链路层填充MAC地址A和目的地MAC地址E

​	数据链路层通过物理层将数据发送给E

step2(E-F)：

​	E的数据链路层收到数据帧，并把数据帧交给网络层

​	E查询路由表，发现下一跳为F

​	E把数据交给数据链路层，并告知目的MAC地址为F

​	E的数据链路层封装数据帧并发送

step(F-B):

​	F的数据链路层收到数据帧，并把数据交给网络层

​	F查询路由表，发现下一跳为C

​	F把数据报交给数据链路层，并告知目的MAC地址为C

​	F的数据链路层封装数据帧并发送



# 应用层

